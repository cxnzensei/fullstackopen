(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{21:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var o=n(2),c=n.n(o),r=n(16),i=n.n(r),a=(n(21),n(3)),u=n(0);var s=function(e){var t=e.filter,n=e.people,o=e.deleteContact,c=n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return Object(u.jsx)("div",{children:0===c.length?Object(u.jsx)("p",{children:"Nothing to show"}):c.sort((function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:-1})).map((function(e){return Object(u.jsxs)("div",{style:{display:"flex",marginBottom:"15px",alignItems:"center"},children:[Object(u.jsx)("h4",{children:e.name}),Object(u.jsx)("p",{children:e.number}),Object(u.jsx)("button",{onClick:function(){return o(e.name,e.id)},children:"delete"})]},e.id)}))})};var l=function(e){var t=e.setFilter;return Object(u.jsxs)("div",{style:{paddingTop:"25px"},children:["filter shown with -"," ",Object(u.jsx)("input",{style:{outline:"none"},onChange:function(e){return t(e.target.value)}})]})};var d=function(e){var t=e.addToTheBook,n=e.newName,o=e.setNewName,c=e.number,r=e.setNewNumber;return Object(u.jsxs)("form",{onSubmit:t,children:[Object(u.jsx)("h1",{children:"Add a new contact"}),Object(u.jsxs)("div",{children:["Name :"," ",Object(u.jsx)("input",{style:{outline:"none"},value:n,onChange:function(e){return o(e.target.value)}})]}),Object(u.jsxs)("div",{children:["Number:"," ",Object(u.jsx)("input",{style:{outline:"none"},value:c,onChange:function(e){return r(e.target.value)}})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",children:"Add"})})]})},j=n(4),b=n.n(j),f="/api/people",h=function(){return b.a.get(f).then((function(e){return e.data}))},m=function(e){return b.a.post(f,e).then((function(e){return e.data})).catch((function(){return console.log("failed to upload")}))},O=function(e,t){return b.a.put("".concat(f,"/").concat(e),t).then((function(e){return e.data}))},p=function(e){return b.a.delete("".concat(f,"/").concat(e)).then((function(e){return e.data}))};var x=function(e){var t=e.notification;return Object(u.jsx)("div",{className:"notification",style:{color:"".concat(t.color)},children:Object(u.jsx)("div",{children:t.message})})};var v=function(){var e=Object(o.useState)([]),t=Object(a.a)(e,2),n=t[0],c=t[1],r=Object(o.useState)(""),i=Object(a.a)(r,2),j=i[0],b=i[1],f=Object(o.useState)(""),v=Object(a.a)(f,2),w=v[0],g=v[1],N=Object(o.useState)(""),k=Object(a.a)(N,2),y=k[0],C=k[1],T=Object(o.useState)({message:"",color:""}),S=Object(a.a)(T,2),B=S[0],L=S[1];return Object(o.useEffect)((function(){h().then((function(e){c(e)}))}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{style:{marginTop:"-5px"},children:"Phonebook"}),Object(u.jsx)(x,{notification:B}),Object(u.jsx)(l,{setFilter:C}),Object(u.jsx)(d,{addToTheBook:function(e){if(e.preventDefault(),j&&w)if(n.some((function(e){return e.name===j}))){if(window.confirm("".concat(j," is already added to the phonebook. Do you want to update the number?"))){var t=n.find((function(e){return e.name===j})),o=t.id,r={name:j,id:t.id,number:w};O(o,r).then((function(e){c(n.map((function(t){return t.id!==o?t:e})))})),g(""),b("")}}else m({name:j,number:w}).then((function(e){c(n.concat(e))})),L({message:"".concat(j," added to phonebook"),color:"green"}),setTimeout((function(){L({message:"",color:"black"})}),3e3),g(""),b("");else window.alert("complete all the fields")},newName:j,setNewName:b,number:w,setNewNumber:g}),Object(u.jsx)("h1",{children:"Numbers"}),Object(u.jsx)(s,{deleteContact:function(e,t){window.confirm("Delete ".concat(e))?p(t).then((function(){c(n.filter((function(e){return e.id!==t})))})):window.alert("Cancelled"),L({message:"information of ".concat(e," has been removed from the server"),color:"red"}),setTimeout((function(){L({message:"",color:"black"})}),3e3)},filter:y,people:n,setNotification:L})]})};i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(v,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.8654f4fe.chunk.js.map